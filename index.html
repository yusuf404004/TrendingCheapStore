<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Trending Cheap Store</title>
<style>
  /* Reset */
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: Arial, sans-serif;
    background: #fff;
    color: #111;
    transition: background 0.3s, color 0.3s;
  }
  @media (prefers-color-scheme: dark) {
    body {
      background: #111;
      color: #eee;
    }
  }
  header {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 50px;
    background: #222;
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 12px;
    z-index: 1000;
  }
  header button {
    background: #444;
    border: none;
    color: white;
    padding: 8px 12px;
    cursor: pointer;
    font-weight: bold;
    border-radius: 4px;
  }
  #menuBtn { margin-right: auto; }
  #cartBtn { margin-left: auto; }

  /* Side menu */
  #sideMenu {
    position: fixed;
    top: 50px; left: 0;
    width: 220px;
    height: calc(100% - 50px);
    background: #333;
    color: white;
    overflow-y: auto;
    transform: translateX(-100%);
    transition: transform 0.3s ease;
    z-index: 900;
    padding: 10px;
  }
  #sideMenu.open { transform: translateX(0); }

  #sideMenu h2 {
    margin-bottom: 10px;
    font-size: 1.2rem;
    border-bottom: 1px solid #666;
    padding-bottom: 5px;
  }
  #sideMenu button.catBtn {
    display: block;
    width: 100%;
    background: #444;
    color: white;
    border: none;
    margin: 5px 0;
    padding: 10px;
    cursor: pointer;
    border-radius: 3px;
    text-align: left;
  }
  #sideMenu button.catBtn:hover {
    background: #555;
  }
  #sideMenu .submenu {
    margin-left: 10px;
    margin-top: 5px;
  }
  #sideMenu .submenu button {
    background: #555;
    font-size: 0.9rem;
  }

  /* Main content */
  #mainContent {
    margin-top: 50px;
    padding: 20px;
    margin-left: 0;
    transition: margin-left 0.3s ease;
  }
  #sideMenu.open + #mainContent {
    margin-left: 220px;
  }

  /* Products grid */
  #productsGrid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
  }
  .product-card {
    background: #f7f7f7;
    border-radius: 6px;
    padding: 10px;
    box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  @media (prefers-color-scheme: dark) {
    .product-card {
      background: #222;
      box-shadow: 0 2px 6px rgba(255 255 255 / 0.1);
    }
  }
  .product-card img {
    max-width: 100%;
    height: 150px;
    object-fit: contain;
  }
  .product-card h3 {
    margin: 10px 0 5px;
  }
  .product-card p {
    margin-bottom: 10px;
    font-weight: bold;
  }
  .product-card button {
    background: #0077ff;
    border: none;
    color: white;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 4px;
  }
  .product-card button:hover {
    background: #005bbb;
  }

  /* Cart */
  #cart {
    position: fixed;
    top: 50px; right: 0;
    width: 300px;
    height: calc(100% - 50px);
    background: #f9f9f9;
    box-shadow: -3px 0 5px rgba(0,0,0,0.2);
    overflow-y: auto;
    transform: translateX(100%);
    transition: transform 0.3s ease;
    z-index: 1000;
    padding: 15px;
  }
  #cart.open {
    transform: translateX(0);
  }
  @media (prefers-color-scheme: dark) {
    #cart {
      background: #222;
      color: #eee;
      box-shadow: -3px 0 5px rgba(255,255,255,0.2);
    }
  }
  #cart h2 {
    margin-bottom: 10px;
  }
  #cart .cart-item {
    display: flex;
    margin-bottom: 10px;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
  }
  #cart .cart-item img {
    width: 60px;
    height: 60px;
    object-fit: contain;
    margin-right: 10px;
  }
  #cart .cart-item-details {
    flex-grow: 1;
  }
  #cart .cart-item-details h4 {
    margin-bottom: 5px;
  }
  #cart .qty-controls {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  #cart .qty-controls button {
    width: 24px;
    height: 24px;
    font-weight: bold;
    background: #0077ff;
    border: none;
    color: white;
    cursor: pointer;
    border-radius: 3px;
  }
  #cart .qty-controls input[type="number"] {
    width: 40px;
    padding: 3px;
    text-align: center;
    border-radius: 3px;
    border: 1px solid #ccc;
  }
  #cart .qty-controls button:hover {
    background: #005bbb;
  }
  #cart-total {
    font-weight: bold;
    margin-top: 10px;
  }
  #closeCartBtn {
    background: #cc0000;
    color: white;
    border: none;
    padding: 6px 12px;
    cursor: pointer;
    border-radius: 4px;
    float: right;
  }
  #closeCartBtn:hover {
    background: #990000;
  }

  /* Search and filter */
  #filters {
    margin-bottom: 15px;
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  #filters input[type="text"], #filters input[type="number"] {
    padding: 5px;
    font-size: 1rem;
    border-radius: 4px;
    border: 1px solid #ccc;
  }
  #filters button {
    background: #0077ff;
    border: none;
    color: white;
    padding: 6px 12px;
    cursor: pointer;
    border-radius: 4px;
  }
  #filters button:hover {
    background: #005bbb;
  }

  /* Scrollbar for menus */
  #sideMenu::-webkit-scrollbar, #cart::-webkit-scrollbar {
    width: 8px;
  }
  #sideMenu::-webkit-scrollbar-thumb, #cart::-webkit-scrollbar-thumb {
    background-color: #666;
    border-radius: 4px;
  }
</style>
</head>
<body>

<header>
  <button id="menuBtn">â˜° Menu</button>
  <button id="cartBtn">ðŸ›’ Cart (<span id="cartCount">0</span>)</button>
</header>

<nav id="sideMenu" aria-label="Side Menu">
  <h2>Categories</h2>
  <button class="catBtn" data-cat="virtual">Virtual</button>
  <button class="catBtn" data-cat="physical">Physical</button>
  <div id="subMenu"></div>
</nav>

<main id="mainContent">
  <div id="filters">
    <input type="text" id="searchInput" placeholder="Search products..." />
    <input type="number" id="minPrice" placeholder="Min Price" min="0" step="0.01" />
    <input type="number" id="maxPrice" placeholder="Max Price" min="0" step="0.01" />
    <button id="clearFiltersBtn">Clear Filters</button>
  </div>
  <div id="productsGrid"></div>
</main>

<aside id="cart" aria-label="Shopping Cart">
  <button id="closeCartBtn">Close</button>
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
  <p id="cart-total">Total: $0.00</p>
</aside>

<script>
  // Sample product data (you can add more)
  const productsData = {
    virtual: {
      'Fortnite': [
        { id: 'fn1', name: 'Fortnite Account', price: 49.99, image: 'https://i.imgur.com/eaUdbvf.png' },
        { id: 'fn2', name: '1000 V-Bucks', price: 9.99, image: 'https://i.imgur.com/0UzWimv.png' },
      ],
      'Roblox': [
        { id: 'rb1', name: 'Roblox Account', price: 39.99, image: 'https://i.imgur.com/6U9QXKK.png' },
      ],
      'Minecraft': [
        { id: 'mc1', name: 'Minecraft Account', price: 29.99, image: 'https://i.imgur.com/MqNJz2S.png' },
      ],
    },
    physical: {
      football: {
        jerseys: [
          { id: 'jer1', name: 'FC Barcelona Jersey', price: 79.99, image: 'https://upload.wikimedia.org/wikipedia/en/4/47/FC_Barcelona_crest.svg' },
          { id: 'jer2', name: 'Real Madrid Jersey', price: 84.99, image: 'https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg' },
          { id: 'jer3', name: 'Manchester United Jersey', price: 74.99, image: 'https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg' },
          { id: 'jer4', name: 'FenerbahÃ§e Jersey', price: 69.99, image: 'https://upload.wikimedia.org/wikipedia/commons/0/01/Fenerbahce_S.K._logo.svg' },
          { id: 'jer5', name: 'Galatasaray Jersey', price: 69.99, image: 'https://upload.wikimedia.org/wikipedia/en/4/4a/Galatasaray_S.K._logo.svg' },
          { id: 'jer6', name: 'BeÅŸiktaÅŸ Jersey', price: 69.99, image: 'https://upload.wikimedia.org/wikipedia/en/1/1a/Besiktas_JK_logo.svg' },
        ],
        shorts: [
          { id: 'sho1', name: 'FC Barcelona Shorts', price: 39.99, image: 'https://upload.wikimedia.org/wikipedia/en/4/47/FC_Barcelona_crest.svg' },
          { id: 'sho2', name: 'Real Madrid Shorts', price: 44.99, image: 'https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg' },
          { id: 'sho3', name: 'Manchester United Shorts', price: 34.99, image: 'https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg' },
          { id: 'sho4', name: 'FenerbahÃ§e Shorts', price: 29.99, image: 'https://upload.wikimedia.org/wikipedia/commons/0/01/Fenerbahce_S.K._logo.svg' },
          { id: 'sho5', name: 'Galatasaray Shorts', price: 29.99, image: 'https://upload.wikimedia.org/wikipedia/en/4/4a/Galatasaray_S.K._logo.svg' },
          { id: 'sho6', name: 'BeÅŸiktaÅŸ Shorts', price: 29.99, image: 'https://upload.wikimedia.org/wikipedia/en/1/1a/Besiktas_JK_logo.svg' },
        ],
        sets: [
          { id: 'set1', name: 'FC Barcelona Jersey + Shorts Set', price: 109.99, image: 'https://upload.wikimedia.org/wikipedia/en/4/47/FC_Barcelona_crest.svg' },
          { id: 'set2', name: 'Real Madrid Jersey + Shorts Set', price: 114.99, image: 'https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg' },
          { id: 'set3', name: 'Manchester United Jersey + Shorts Set', price: 99.99, image: 'https://upload.wikimedia.org/wikipedia/en/7/7a/Manchester_United_FC_crest.svg' },
        ]
      },
      clothing: {
        socks: [
          { id: 'sock1', name: 'Sport Socks', price: 5.99, image: 'https://i.imgur.com/5FZbSpH.png' },
          { id: 'sock2', name: 'Casual Socks', price: 3.99, image: 'https://i.imgur.com/NJ1Zcd8.png' },
        ],
        shirts: [
          { id: 'shirt1', name: 'Casual Shirt', price: 19.99, image: 'https://i.imgur.com/O0aZqKD.png' },
          { id: 'shirt2', name: 'Formal Shirt', price: 24.99, image: 'https://i.imgur.com/7rk3QcX.png' },
        ],
        tshirts: [
          { id: 'tshirt1', name: 'Graphic T-shirt', price: 14.99, image: 'https://i.imgur.com/bwWKn05.png' },
          { id: 'tshirt2', name: 'Plain T-shirt', price: 9.99, image: 'https://i.imgur.com/1qUlDwz.png' },
        ],
        pants: [
          { id: 'pants1', name: 'Jeans', price: 39.99, image: 'https://i.imgur.com/pkIl1kd.png' },
          { id: 'pants2', name: 'Chinos', price: 29.99, image: 'https://i.imgur.com/wQxrZr6.png' },
        ],
        shorts: [
          { id: 'shorts1', name: 'Denim Shorts', price: 19.99, image: 'https://i.imgur.com/Qc1sJLC.png' },
          { id: 'shorts2', name: 'Sports Shorts', price: 14.99, image: 'https://i.imgur.com/2nJmOKM.png' },
        ],
        swimshorts: [
          { id: 'swim1', name: 'Beach Swim Shorts', price: 24.99, image: 'https://i.imgur.com/YKpqNKX.png' },
          { id: 'swim2', name: 'Pool Swim Shorts', price: 19.99, image: 'https://i.imgur.com/63UyAxF.png' },
        ],
      }
    }
  };

  // State
  let currentCategory = null;
  let currentSubcategory = null;
  let cart = {};

  // DOM
  const menuBtn = document.getElementById('menuBtn');
  const cartBtn = document.getElementById('cartBtn');
  const sideMenu = document.getElementById('sideMenu');
  const subMenu = document.getElementById('subMenu');
  const mainContent = document.getElementById('mainContent');
  const productsGrid = document.getElementById('productsGrid');
  const cartSidebar = document.getElementById('cart');
  const cartItemsContainer = document.getElementById('cartItems');
  const cartCountSpan = document.getElementById('cartCount');
  const cartTotal = document.getElementById('cart-total');
  const closeCartBtn = document.getElementById('closeCartBtn');
  const searchInput = document.getElementById('searchInput');
  const minPriceInput = document.getElementById('minPrice');
  const maxPriceInput = document.getElementById('maxPrice');
  const clearFiltersBtn = document.getElementById('clearFiltersBtn');

  // Toggle menu
  menuBtn.addEventListener('click', () => {
    sideMenu.classList.toggle('open');
    updateMainMargin();
  });

  function updateMainMargin() {
    if(sideMenu.classList.contains('open')) {
      mainContent.style.marginLeft = '220px';
    } else {
      mainContent.style.marginLeft = '0';
    }
  }

  // Toggle cart
  cartBtn.addEventListener('click', () => {
    cartSidebar.classList.add('open');
  });
  closeCartBtn.addEventListener('click', () => {
    cartSidebar.classList.remove('open');
  });

  // Category buttons
  sideMenu.querySelectorAll('.catBtn').forEach(btn => {
    btn.addEventListener('click', () => {
      const cat = btn.getAttribute('data-cat');
      currentCategory = cat;
      currentSubcategory = null;
      renderSubMenu(cat);
      renderProducts(cat);
    });
  });

  // Render submenu based on category
  function renderSubMenu(cat) {
    subMenu.innerHTML = '';
    if(cat === 'virtual') {
      for(let game in productsData.virtual) {
        let b = document.createElement('button');
        b.textContent = game;
        b.className = 'catBtn';
        b.onclick = () => {
          currentSubcategory = game;
          renderProducts(cat, game);
        };
        subMenu.appendChild(b);
      }
    } else if(cat === 'physical') {
      for(let physCat in productsData.physical) {
        let b = document.createElement('button');
        b.textContent = physCat.charAt(0).toUpperCase() + physCat.slice(1);
        b.className = 'catBtn';
        b.onclick = () => {
          currentSubcategory = physCat;
          renderSubSubMenu(physCat);
        };
        subMenu.appendChild(b);
      }
    }
  }

  // Render sub-sub-menu for physical category
  function renderSubSubMenu(physCat) {
    subMenu.innerHTML = '';
    const subcats = productsData.physical[physCat];
    for(let sub in subcats) {
      let b = document.createElement('button');
      b.textContent = sub.charAt(0).toUpperCase() + sub.slice(1);
      b.className = 'catBtn';
      b.onclick = () => {
        currentSubcategory = physCat + '.' + sub;
        renderProducts(physCat, sub);
      };
      subMenu.appendChild(b);
    }
  }

  // Render products
  function renderProducts(cat, subcat) {
    productsGrid.innerHTML = '';
    let items = [];
    if(cat === 'virtual' && subcat) {
      items = productsData.virtual[subcat] || [];
    } else if(cat === 'physical' && subcat) {
      // subcat like "football", "clothing"
      if(subcat.includes('.')) {
        const [mainCat, subSubCat] = subcat.split('.');
        items = productsData.physical[mainCat][subSubCat] || [];
      } else {
        // physical top level (football, clothing)
        items = [];
        const catData = productsData.physical[subcat];
        for(let key in catData) {
          items = items.concat(catData[key]);
        }
      }
    } else if(cat && !subcat) {
      // Show all in category
      if(cat === 'virtual') {
        for(let game in productsData.virtual) {
          items = items.concat(productsData.virtual[game]);
        }
      } else if(cat === 'physical') {
        for(let physCat in productsData.physical) {
          const catData = productsData.physical[physCat];
          for(let key in catData) {
            items = items.concat(catData[key]);
          }
        }
      }
    } else {
      // No category selected, show all products
      for(let game in productsData.virtual) {
        items = items.concat(productsData.virtual[game]);
      }
      for(let physCat in productsData.physical) {
        const catData = productsData.physical[physCat];
        for(let key in catData) {
          items = items.concat(catData[key]);
        }
      }
    }

    // Filter by search and price
    const searchVal = searchInput.value.trim().toLowerCase();
    const minP = parseFloat(minPriceInput.value) || 0;
    const maxP = parseFloat(maxPriceInput.value) || Number.MAX_VALUE;
    items = items.filter(item => {
      const matchesSearch = item.name.toLowerCase().includes(searchVal);
      const matchesPrice = item.price >= minP && item.price <= maxP;
      return matchesSearch && matchesPrice;
    });

    if(items.length === 0) {
      productsGrid.innerHTML = '<p>No products found.</p>';
      return;
    }

    items.forEach(prod => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.innerHTML = `
        <img src="${prod.image}" alt="${prod.name}" />
        <h3>${prod.name}</h3>
        <p>$${prod.price.toFixed(2)}</p>
        <button data-id="${prod.id}">Add to Cart</button>
