<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Trending Cheap Store</title>
<style>
  /* Basic reset & theme */
  body {
    margin:0; padding:0; font-family: Arial, sans-serif;
    background: #fff; color:#000;
    transition: background 0.3s, color 0.3s;
  }
  @media (prefers-color-scheme: dark) {
    body { background:#111; color:#eee; }
    .sidebar, .cart { background:#222; color:#eee; }
    .modal-content { background:#333; color:#eee; }
  }

  /* Layout */
  header {
    position: fixed; top:0; left:0; right:0; height:50px;
    background:#000; color:#fff; display:flex;
    align-items:center; justify-content:space-between;
    padding: 0 1rem; z-index: 1000;
  }
  header button {
    background:none; border:none; color:#fff;
    font-size:1.2rem; cursor:pointer;
  }

  /* Sidebars */
  .sidebar, .cart {
    position: fixed; top:50px; bottom:0; width:280px;
    background:#f5f5f5; color:#000;
    overflow-y:auto; padding:1rem;
    box-shadow: 2px 0 5px rgba(0,0,0,0.3);
    transition: transform 0.3s ease;
    z-index: 999;
  }
  .sidebar {
    left:0;
    transform: translateX(-100%);
  }
  .sidebar.open {
    transform: translateX(0);
  }
  .cart {
    right:0;
    transform: translateX(100%);
    box-shadow: -2px 0 5px rgba(0,0,0,0.3);
  }
  .cart.open {
    transform: translateX(0);
  }

  /* Main content */
  main {
    margin-top:50px;
    padding:1rem;
    min-height: calc(100vh - 50px);
  }
  #productsGrid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap:1rem;
  }
  .product-card {
    background:#eee; color:#000;
    border-radius: 8px;
    padding: 1rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    cursor: pointer;
    user-select:none;
    display:flex; flex-direction: column; align-items: center;
  }
  @media (prefers-color-scheme: dark) {
    .product-card { background:#222; color:#eee; box-shadow:none; }
  }
  .product-card img {
    width: 100%; max-height: 120px; object-fit: contain; margin-bottom: 0.5rem;
  }
  .product-card h3 {
    margin:0.2rem 0;
    font-size: 1.1rem;
    text-align: center;
  }
  .product-card p {
    margin: 0;
    font-weight: bold;
  }

  /* Modal */
  #infoModal {
    position: fixed; top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.6);
    display:none; align-items:center; justify-content:center;
    z-index: 2000;
  }
  #infoModal.open {
    display:flex;
  }
  .modal-content {
    background:#fff; color:#000;
    padding:1rem 1.5rem;
    border-radius: 10px;
    max-width: 400px;
    width: 90%;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    position: relative;
  }
  .modal-content img {
    max-width: 100%;
    max-height: 180px;
    object-fit: contain;
    margin-bottom: 1rem;
  }
  .modal-content button {
    background:#000; color:#fff;
    border:none; padding: 0.5rem 1rem;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
  }
  .modal-content .closeModal {
    position: absolute;
    top: 8px; right: 12px;
    font-size: 1.5rem;
    cursor: pointer;
    font-weight: bold;
    background: none;
    border: none;
    color: inherit;
  }

  /* Cart */
  #cartItems {
    max-height: 60vh;
    overflow-y: auto;
  }
  .cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.8rem;
  }
  .cart-item > div {
    flex: 1;
  }
  .cart-item-controls {
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }
  .cart-item-controls button {
    width: 24px; height: 24px;
    font-size: 18px;
    line-height: 1;
    border-radius: 4px;
    border: 1px solid #333;
    background: #fff;
    cursor: pointer;
  }
  .cart-item-controls input[type=number] {
    width: 40px;
    text-align: center;
    font-size: 1rem;
    border-radius: 4px;
    border: 1px solid #333;
  }

  /* Filters */
  #filters {
    margin-bottom: 1rem;
    display: flex;
    gap: 0.8rem;
    flex-wrap: wrap;
  }
  #filters input[type=text], #filters input[type=number] {
    padding: 0.3rem 0.5rem;
    border-radius: 4px;
    border: 1px solid #ccc;
    flex: 1;
    min-width: 120px;
  }
  #filters button {
    padding: 0.3rem 1rem;
    cursor: pointer;
    border-radius: 4px;
    border: 1px solid #000;
    background: #000;
    color: #fff;
  }

</style>
</head>
<body>

<header>
  <button id="menuBtn" aria-label="Toggle Menu">â˜° Menu</button>
  <h1 style="margin:0; font-size:1.2rem;">Trending Cheap Store</h1>
  <button id="cartBtn" aria-label="Toggle Cart">ðŸ›’ Cart (<span id="cartCount">0</span>)</button>
</header>

<nav id="sideMenu" class="sidebar" aria-label="Site Menu" role="navigation" aria-hidden="true">
  <h2>Categories</h2>
  <button class="catBtn" data-type="virtual">Virtual</button>
  <button class="catBtn" data-type="physical">Physical</button>

  <div id="virtualSubmenu" style="display:none; margin-top: 1rem;">
    <h3>Virtual Games</h3>
    <button class="subBtn" data-game="fortnite">Fortnite Accounts</button>
    <button class="subBtn" data-game="vbucks">V-Bucks</button>
    <button class="subBtn" data-game="roblox">Roblox</button>
  </div>

  <div id="physicalSubmenu" style="display:none; margin-top: 1rem;">
    <h3>Physical</h3>
    <button class="subBtn" data-physical="football">Football</button>
    <button class="subBtn" data-physical="clothing">Clothing</button>
  </div>

  <div id="footballSubmenu" style="display:none; margin-top: 1rem;">
    <h4>Football</h4>
    <button class="subBtn" data-football="jerseys">Jerseys</button>
    <button class="subBtn" data-football="shorts">Shorts</button>
    <button class="subBtn" data-football="sets">Sets (Jersey & Shorts)</button>
  </div>

  <div id="clothingSubmenu" style="display:none; margin-top: 1rem;">
    <h4>Clothing</h4>
    <button class="subBtn" data-clothing="socks">Socks</button>
    <button class="subBtn" data-clothing="shirts">Shirts</button>
    <button class="subBtn" data-clothing="tshirts">T-Shirts</button>
    <button class="subBtn" data-clothing="pants">Pants</button>
    <button class="subBtn" data-clothing="shorts">Shorts</button>
    <button class="subBtn" data-clothing="swimmingshorts">Swimming Shorts</button>
  </div>
</nav>

<div id="cart" class="cart" aria-label="Shopping Cart" aria-hidden="true" tabindex="-1" style="display:none;">
  <h2>Your Cart</h2>
  <div id="cartItems"></div>
  <div id="cart-total" style="margin-top:1rem; font-weight:bold;">Total: $0.00</div>
  <button id="checkoutBtn" style="margin-top:1rem; padding:0.5rem 1rem; font-size:1rem; cursor:pointer;">Checkout</button>
</div>

<main id="shopArea" tabindex="0" aria-label="Shop Products">

  <div id="filters">
    <input type="text" id="searchInput" placeholder="Search products..." aria-label="Search products" />
    <input type="number" id="minPrice" placeholder="Min Price" min="0" aria-label="Minimum price" />
    <input type="number" id="maxPrice" placeholder="Max Price" min="0" aria-label="Maximum price" />
    <button id="clearFilters">Clear Filters</button>
  </div>

  <div id="productsGrid" aria-live="polite" aria-relevant="additions"></div>
</main>

<!-- Product info modal -->
<div id="infoModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle" aria-describedby="modalDesc">
  <div class="modal-content">
    <button class="closeModal" aria-label="Close modal">&times;</button>
    <h2 id="modalTitle"></h2>
    <img src="" alt="" id="modalImg" />
    <p id="modalDesc"></p>
    <p><strong>Price: </strong>$<span id="modalPrice"></span></p>
    <label for="modalQty">Quantity:</label>
    <input type="number" id="modalQty" min="1" max="100" value="1" style="width: 50px;" />
    <br/><br/>
    <button id="addToCartBtn">Add to Cart</button>
  </div>
</div>

<script>
(() => {
  // Data for products example (fill with your products)
  const products = [
    {id:1, name:"Juventus Jersey", price: 90, img:"https://upload.wikimedia.org/wikipedia/en/8/82/Juventus_FC_2017_logo.svg", category:"football", type:"jerseys"},
    {id:2, name:"Real Madrid Shorts", price: 45, img:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg", category:"football", type:"shorts"},
    {id:3, name:"Barcelona Set", price: 120, img:"https://upload.wikimedia.org/wikipedia/en/4/47/FC_Barcelona_%28crest%29.svg", category:"football", type:"sets"},
    {id:4, name:"Liverpool Jersey", price: 88, img:"https://upload.wikimedia.org/wikipedia/en/0/0c/Liverpool_FC.svg", category:"football", type:"jerseys"},
    {id:5, name:"Galatasaray Jersey", price: 80, img:"https://upload.wikimedia.org/wikipedia/commons/b/b4/Galatasaray_S.K._Logo.svg", category:"football", type:"jerseys"},
    {id:6, name:"Fenerbahce Shorts", price: 40, img:"https://upload.wikimedia.org/wikipedia/en/9/90/Fenerbah%C3%A7e_S.K._logo.svg", category:"football", type:"shorts"},
    {id:7, name:"Mystery Football Box", price: 50, img:"https://upload.wikimedia.org/wikipedia/commons/e/e1/Football_icon.svg", category:"football", type:"mysteryboxes"},
    {id:8, name:"Fortnite Account - Level 50", price: 30, img:"https://cdn2.unrealengine.com/Fortnite%2Fblog%2Ffeatured-342x192-b9f7bbcf25a12ec5b4b3a3a0d2e004afde36cfde.png", category:"virtual", type:"fortnite"},
    {id:9, name:"V-Bucks 1000", price: 10, img:"https://upload.wikimedia.org/wikipedia/en/0/0a/Fortnite_V-bucks_Logo.svg", category:"virtual", type:"vbucks"},
    {id:10, name:"Roblox Gift Card", price: 25, img:"https://upload.wikimedia.org/wikipedia/commons/1/11/Roblox_Logo_2017.svg", category:"virtual", type:"roblox"},
    {id:11, name:"Socks", price: 8, img:"https://upload.wikimedia.org/wikipedia/commons/6/6e/Socks-White-Icon.svg", category:"clothing", type:"socks"},
    {id:12, name:"T-Shirt", price: 15, img:"https://upload.wikimedia.org/wikipedia/commons/e/e0/T-shirt_icon.svg", category:"clothing", type:"tshirts"},
    {id:13, name:"Swimming Shorts", price: 18, img:"https://upload.wikimedia.org/wikipedia/commons/1/19/Shorts_icon.svg", category:"clothing", type:"swimmingshorts"},
    // add more as you want
  ];

  let cart = [];
  let currentProduct = null;

  // DOM Elements
  const menuBtn = document.getElementById('menuBtn');
  const cartBtn = document.getElementById('cartBtn');
  const sideMenu = document.getElementById('sideMenu');
  const cartDiv = document.getElementById('cart');
  const cartCount = document.getElementById('cartCount');
  const cartItemsDiv = document.getElementById('cartItems');
  const shopArea = document.getElementById('shopArea');
  const productsGrid = document.getElementById('productsGrid');

  const infoModal = document.getElementById('infoModal');
  const modalTitle = document.getElementById('modalTitle');
  const modalImg = document.getElementById('modalImg');
  const modalDesc = document.getElementById('modalDesc');
  const modalPrice = document.getElementById('modalPrice');
  const modalQty = document.getElementById('modalQty');
  const addToCartBtn = document.getElementById('addToCartBtn');
  const closeModalBtn = document.querySelector('.closeModal');

  // Filter elements
  const searchInput = document.getElementById('searchInput');
  const minPriceInput = document.getElementById('minPrice');
  const maxPriceInput = document.getElementById('maxPrice');
  const clearFiltersBtn = document.getElementById('clearFilters');

  // Menu button toggle
  menuBtn.addEventListener('click', () => {
    sideMenu.classList.toggle('open');
    if (sideMenu.classList.contains('open')) {
      sideMenu.setAttribute('aria-hidden', 'false');
      menuBtn.style.display = 'none';
    } else {
      sideMenu.setAttribute('aria-hidden', 'true');
      menuBtn.style.display = 'inline-block';
    }
  });

  // Cart button toggle
  cartBtn.addEventListener('click', () => {
    if(cartDiv.style.display === 'block') {
      closeCart();
    } else {
      openCart();
    }
  });

  function openCart() {
    cartDiv.style.display = 'block';
    cartDiv.setAttribute('aria-hidden', 'false');
    // Hide cart button so user can't re-open while open
    cartBtn.style.display = 'none';
  }

  function closeCart() {
    cartDiv.style.display = 'none';
    cartDiv.setAttribute('aria-hidden', 'true');
    cartBtn.style.display = 'inline-block';
  }

  // Clicking shop area closes cart if open
  shopArea.addEventListener('click', () => {
    if(cartDiv.style.display === 'block') {
      closeCart();
    }
  });

  // Render products to grid
  function renderProducts(filter = {}) {
    let filtered = [...products];

    // Apply search filter
    if(filter.search) {
      const s = filter.search.toLowerCase();
      filtered = filtered.filter(p => p.name.toLowerCase().includes(s));
    }
    // Price filters
    if(filter.minPrice != null && !isNaN(filter.minPrice)) {
      filtered = filtered.filter(p => p.price >= filter.minPrice);
    }
    if(filter.maxPrice != null && !isNaN(filter.maxPrice)) {
      filtered = filtered.filter(p => p.price <= filter.maxPrice);
    }

    productsGrid.innerHTML = '';
    if(filtered.length === 0) {
      productsGrid.innerHTML = '<p>No products found.</p>';
      return;
    }

    filtered.forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card';
      card.setAttribute('tabindex','0');
      card.setAttribute('role','button');
      card.setAttribute('aria-pressed','false');
      card.innerHTML = `
        <img src="${p.img}" alt="${p.name}" />
        <h3>${p.name}</h3>
        <p>$${p.price.toFixed(2)}</p>
      `;
      card.addEventListener('click', () => openProductModal(p));
      card.addEventListener('keypress', e => { if(e.key === 'Enter') openProductModal(p); });
      productsGrid.appendChild(card);
    });
  }

  function openProductModal(product) {
    currentProduct = product;
    modalTitle.textContent = product.name;
    modalImg.src = product.img;
    modalImg.alt = product.name;
    modalDesc.textContent = `Description for ${product.name}. (This is a demo text.)`;
    modalPrice.textContent = product.price.toFixed(2);
    modalQty.value = 1;
    infoModal.classList.add('open');
  }

  function closeProductModal() {
    infoModal.classList.remove('open');
  }

  closeModalBtn.addEventListener('click', closeProductModal);
  infoModal.addEventListener('click', e => {
    if(e.target === infoModal) closeProductModal();
  });

  addToCartBtn.addEventListener('click', () => {
    const qty = parseInt(modalQty.value);
    if(!qty || qty < 1) {
      alert('Please enter a valid quantity.');
      return;
    }
    addToCart(currentProduct, qty);
    closeProductModal();
    openCart();
  });

  // Cart logic
  function addToCart(product, qty) {
    const existing = cart.find(item => item.id === product.id);
    if(existing) {
      existing.qty += qty;
    } else {
      cart.push({ ...product, qty });
    }
    updateCartUI();
  }

  function updateCartUI() {
    cartCount.textContent = cart.reduce((acc, i) => acc + i.qty, 0);
    cartItemsDiv.innerHTML = '';

    if(cart.length === 0) {
      cartItemsDiv.innerHTML = '<p>Your cart is empty.</p>';
      document.getElementById('cart-total').textContent = 'Total: $0.00';
      return;
    }

    cart.forEach(item => {
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <div>${item.name}</div>
        <div class="cart-item-controls">
          <button aria-label="Decrease quantity" class="decBtn">âˆ’</button>
          <input type="number" min="1" value="${item.qty}" aria-label="Quantity of ${item.name}" />
          <button aria-label="Increase quantity" class="incBtn">+</button>
        </div>
        <div>$${(item.price * item.qty).toFixed(2)}</div>
        <button aria-label="Remove item" class="removeBtn" style="margin-left:8px; color:red;">âœ•</button>
      `;
      // Events
      const decBtn = div.querySelector('.decBtn');
      const incBtn = div.querySelector('.incBtn');
      const qtyInput = div.querySelector('input[type=number]');
      const removeBtn = div.querySelector('.removeBtn');

      decBtn.addEventListener('click', () => {
        if(item.qty > 1) {
          item.qty--;
          qtyInput.value = item.qty;
          updateCartUI();
        }
      });
      incBtn.addEventListener('click', () => {
        item.qty++;
        qtyInput.value = item.qty;
        updateCartUI();
      });
      qtyInput.addEventListener('change', () => {
        let val = parseInt(qtyInput.value);
        if(isNaN(val) || val < 1) val = 1;
        item.qty = val;
        qtyInput.value = val;
        updateCartUI();
      });
      removeBtn.addEventListener('click', () => {
        cart = cart.filter(c => c.id !== item.id);
        updateCartUI();
      });

      cartItemsDiv.appendChild(div);
    });

    const total = cart.reduce((acc, i) => acc + i.price * i.qty, 0);
    document.getElementById('cart-total').textContent = `Total: $${total.toFixed(2)}`;
  }

  // Filters
  function applyFilters() {
    renderProducts({
      search: searchInput.value.trim(),
      minPrice: minPriceInput.value ? parseFloat(minPriceInput.value) : null,
      maxPrice: maxPriceInput.value ? parseFloat(maxPriceInput.value) : null
    });
  }
  searchInput.addEventListener('input', applyFilters);
  minPriceInput.addEventListener('input', applyFilters);
  maxPriceInput.addEventListener('input', applyFilters);
  clearFiltersBtn.addEventListener('click', () => {
    searchInput.value = '';
    minPriceInput.value = '';
    maxPriceInput.value = '';
    applyFilters();
  });

  // Initialize
  renderProducts();
  updateCartUI();

})();
</script>

</body>
</html>
